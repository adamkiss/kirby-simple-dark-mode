@mixin pseudo-block()
	display: block
	position: absolute
	left: 0
	top: 0
	right: 0
	bottom: 0
	content: " "

@media(prefers-color-scheme: dark)
	html.simple-dark-mode
		/* so dirty */
		filter: invert(95%) hue-rotate(180deg) !important

		img
			opacity: .4 !important

		.k-icon-emoji
			/* invert emoji icons back */
			filter: invert(95%) hue-rotate(180deg) !important

		/* All colors from now on are inverted by the filter */
		.k-topbar, .k-topbar-signals, .k-topbar-signals::before
			background: #888 !important
		.k-file-preview-details
			background: #e1e0e3 !important
		.k-dialog
			background: rgba(250,250,250,.7) !important
		.k-dialog-box, .k-dropdown-content
			box-shadow: 0 2px 10px rgba(250,250,250,.8) !important
		.k-file-preview-details p
			/* black so it inverts */
			color: black !important
		.k-icon[data-back="pattern"]
			&:before
				+pseudo-block()
				background: rgba(250, 250, 250, 0.7)
